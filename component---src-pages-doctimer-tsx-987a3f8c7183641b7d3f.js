(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"964K":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),s=(n("ox/P"),n("f3/d"),n("9XZr"),["Appointment","Notes","Home Visit","Meeting","Checks"]);function i(e,t){return String(e).padStart(t,"0")}function o(e){var t=e/1e3;return i(Math.floor(t/60),2)+":"+i(Math.round(t%60),2)}function l(e){return e.toLocaleTimeString()}var c=function(){function e(e){this.category=e,this.comment=null,this.startMillis=Date.now(),this.endDuration=null}var t=e.prototype;return t.setComment=function(e){this.comment=e},t.stop=function(){this.endDuration=Date.now()-this.startMillis,console.log("stopped segment "+this.endDuration)},t.startTime=function(){return new Date(this.startMillis)},t.endTime=function(){return this.endDuration?new Date(this.startMillis+this.endDuration):new Date},t.currentDuration=function(){return null!==this.endDuration?this.endDuration:Date.now()-this.startMillis},e}(),u=function(){function e(){this.date=new Date,this.segments=[]}return e.prototype.addSegment=function(e){this.segments.push(e),console.log(this.segments.length+" segments")},e}(),m=n("ZTnj"),d=n.n(m),g=function(e){var t=e.running,n=e.segment,a=r.a.createElement("div",null,"Press 'Start' to begin");if(t)if(null!==n){var s=o(n.currentDuration());a=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"50%"}},n.category),r.a.createElement("div",{style:{width:"50%"}}," ",s," "))}else a=r.a.createElement("div",null,"Select a category");return r.a.createElement("div",{className:d.a.button+" "+d.a.timer},a)},f=function(e){var t=e.selected?"red":"green",n=e.selected?"Stop":"Start";return r.a.createElement("button",{className:d.a.button,style:{backgroundColor:t},type:"button",onClick:function(){e.callback&&e.callback(e.name)}},n)},v=function(e){var t=e.selected&&!e.disabled?"red":"gray",n=void 0!==e.altname&&e.selected?e.altname:e.name;return r.a.createElement("button",{className:d.a.button,disabled:e.disabled,style:{backgroundColor:t},type:"button",onClick:function(){e.callback&&e.callback(e.name)}},n)},h=function(e){var t="";return t=e.toControls?"Back to controls":"See stats",r.a.createElement("button",{className:d.a.button+" "+d.a.switch,onClick:function(){e.toControls?e.setControlsView(!0):e.setControlsView(!1)}},t)},w=n("aJiU"),b=n.n(w),S=function(e){return r.a.createElement("div",{id:"status",className:b.a.status},r.a.createElement("div",{className:b.a.date},e.time.toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),r.a.createElement("div",{className:b.a.events},e.events," events so far."))},p=function(e){var t=e.currentSegment,n=e.setCurrentSegment,s=e.started,i=e.setStarted,o=Object(a.useState)(new Date),l=o[0],u=o[1];function m(a){if(null===t){var r=new c(a);n(r)}else if(t.category===a)t.stop(),e.day.addSegment(t),n(null);else{t.stop(),e.day.addSegment(t);var s=new c(a);n(s)}}Object(a.useEffect)((function(){var e=window.setInterval((function(){u(new Date)}),1e3);return function(){clearInterval(e)}}));var d=e.categories.map((function(e){return[e,t&&e===t.category]}));return r.a.createElement("div",{id:"buttonScreen"},r.a.createElement(S,{time:l,events:e.day.segments.length}),r.a.createElement(g,{running:s,segment:t}),d.map((function(e){return r.a.createElement(v,{key:e[0],name:e[0],selected:e[1],callback:m,disabled:!s})})),r.a.createElement(f,{callback:function(){i(!s),s&&t&&(t.stop(),e.day.addSegment(t))},selected:s}),r.a.createElement(h,{toControls:!1,setControlsView:e.setControlsView}))},E=n("iy7Y"),y=n.n(E),C=function(e){var t=e.segment;return console.log(t.endTime()),r.a.createElement("div",null,t.category," start ",l(t.startTime())," end"," ",l(t.endTime())," duration"," ",o(t.currentDuration()))},D=function(e){return r.a.createElement("div",{className:y.a.statsView},r.a.createElement("p",null,"Stats for ",e.day.date.toLocaleDateString(),":"),r.a.createElement("p",null,"There have been ",e.day.segments.length," completed segments."),e.day.segments.map((function(e){return r.a.createElement(C,{segment:e})})),r.a.createElement("div",{className:y.a.statsContainer},r.a.createElement("div",{className:y.a.statsColumn}),r.a.createElement("div",{className:y.a.statsColumn})),r.a.createElement(h,{toControls:!0,setControlsView:e.setControlsView}))};t.default=function(){var e=Object(a.useState)(new u),t=e[0],n=(e[1],Object(a.useState)(!0)),i=n[0],o=n[1],l=Object(a.useState)(null),c=l[0],m=l[1],d=Object(a.useState)(null),g=d[0],f=d[1];return i?r.a.createElement(p,{setControlsView:o,day:t,categories:s,currentSegment:c,setCurrentSegment:m,started:g,setStarted:f}):r.a.createElement(D,{day:t,setControlsView:o})}},"9XZr":function(e,t,n){"use strict";var a=n("XKFU"),r=n("Lgjv"),s=n("ol8x"),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);a(a.P+a.F*i,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},Lgjv:function(e,t,n){var a=n("ne8i"),r=n("l0Rn"),s=n("vhPU");e.exports=function(e,t,n,i){var o=String(s(e)),l=o.length,c=void 0===n?" ":String(n),u=a(t);if(u<=l||""==c)return o;var m=u-l,d=r.call(c,Math.ceil(m/c.length));return d.length>m&&(d=d.slice(0,m)),i?d+o:o+d}},l0Rn:function(e,t,n){"use strict";var a=n("RYi7"),r=n("vhPU");e.exports=function(e){var t=String(r(this)),n="",s=a(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}}}]);
//# sourceMappingURL=component---src-pages-doctimer-tsx-987a3f8c7183641b7d3f.js.map