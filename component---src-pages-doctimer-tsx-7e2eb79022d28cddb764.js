(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"964K":function(t,e,n){"use strict";n.r(e);var a=n("q1tI"),r=n.n(a),s=(n("ox/P"),n("f3/d"),n("9XZr"),["Appointment","Notes","Home Visit","Meeting","Checks"]);function o(t,e){return String(t).padStart(e,"0")}function i(t){var e=t/1e3;return o(Math.floor(e/60),2)+":"+o(Math.round(e%60),2)}function l(t){return t.toLocaleTimeString()}var u=function(){function t(t){this.category=t,this.comment=null,this.startMillis=Date.now(),this.endDuration=null}var e=t.prototype;return e.setComment=function(t){this.comment=t},e.stop=function(){this.endDuration=Date.now()-this.startMillis,console.log("stopped segment "+this.endDuration)},e.startTime=function(){return new Date(this.startMillis)},e.endTime=function(){return this.endDuration?new Date(this.startMillis+this.endDuration):new Date},e.currentDuration=function(){return null!==this.endDuration?this.endDuration:Date.now()-this.startMillis},t}(),c=function(){function t(){this.date=new Date,this.segments=[]}return t.prototype.addSegment=function(t){this.segments.push(t),console.log(this.segments.length+" segments")},t}(),m=n("ZTnj"),d=n.n(m),g=function(t){var e=t.running,n=t.segment,a=r.a.createElement("div",null,"Press 'Start' to begin");if(e)if(null!==n){var s=i(n.currentDuration());a=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"50%"}},n.category),r.a.createElement("div",{style:{width:"50%"}}," ",s," "))}else a=r.a.createElement("div",null,"Select a category");return r.a.createElement("div",{className:d.a.button+" "+d.a.timer},a)},f=function(t){var e=t.selected?"red":"green",n=t.selected?"Stop":"Start";return r.a.createElement("button",{className:d.a.button,style:{backgroundColor:e},type:"button",onClick:function(){t.callback&&t.callback(t.name)}},n)},v=function(t){var e=t.selected&&!t.disabled?"red":"gray",n=void 0!==t.altname&&t.selected?t.altname:t.name;return r.a.createElement("button",{className:d.a.button,disabled:t.disabled,style:{backgroundColor:e},type:"button",onClick:function(){t.callback&&t.callback(t.name)}},n)},h=function(t){var e="";return e=t.toControls?"Back to controls":"See stats",r.a.createElement("button",{className:d.a.button+" "+d.a.switch,onClick:function(){t.toControls?t.setControlsView(!0):t.setControlsView(!1)}},e)},w=n("aJiU"),b=n.n(w),p=function(t){return r.a.createElement("div",{id:"status",className:b.a.status},r.a.createElement("div",{className:b.a.date},t.time.toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),r.a.createElement("div",{className:b.a.events},t.events," events so far."))},S=function(t){var e=t.currentSegment,n=t.setCurrentSegment,s=t.started,o=t.setStarted,i=Object(a.useState)(new Date),l=i[0],c=i[1];function m(a){if(null===e){var r=new u(a);n(r)}else if(e.category===a)e.stop(),t.day.addSegment(e),n(null);else{e.stop(),t.day.addSegment(e);var s=new u(a);n(s)}}Object(a.useEffect)((function(){var t=window.setInterval((function(){c(new Date)}),1e3);return function(){clearInterval(t)}}));var d=t.categories.map((function(t){return[t,e&&t===e.category]}));return r.a.createElement("div",{id:"buttonScreen"},r.a.createElement(p,{time:l,events:t.day.segments.length}),r.a.createElement(g,{running:s,segment:e}),d.map((function(t){return r.a.createElement(v,{key:t[0],name:t[0],selected:t[1],callback:m,disabled:!s})})),r.a.createElement(f,{callback:function(){o(!s),s&&e&&(e.stop(),t.day.addSegment(e))},selected:s}),r.a.createElement(h,{toControls:!1,setControlsView:t.setControlsView}))},E=n("iy7Y"),C=n.n(E),y=function(t){var e=t.segment;return console.log(e.endTime()),r.a.createElement("div",null,e.category," start ",l(e.startTime())," end"," ",l(e.endTime())," duration"," ",i(e.currentDuration()))},D=function(t){return r.a.createElement("div",{className:C.a.statsView},r.a.createElement("p",null,"Stats for ",t.day.date.toLocaleDateString(),":"),r.a.createElement("p",null,"There have been ",t.day.segments.length," completed segments."),t.day.segments.map((function(t){return r.a.createElement(y,{segment:t})})),r.a.createElement("div",{className:C.a.statsContainer},r.a.createElement("div",{className:C.a.statsColumn}),r.a.createElement("div",{className:C.a.statsColumn})),r.a.createElement(h,{toControls:!0,setControlsView:t.setControlsView}))};e.default=function(){var t=Object(a.useState)(new c),e=t[0],n=(t[1],Object(a.useState)(!0)),o=n[0],i=n[1],l=Object(a.useState)(null),u=l[0],m=l[1],d=Object(a.useState)(null),g=d[0],f=d[1];return o?r.a.createElement(S,{setControlsView:i,day:e,categories:s,currentSegment:u,setCurrentSegment:m,started:g,setStarted:f}):r.a.createElement(D,{day:e,setControlsView:i})}},"9XZr":function(t,e,n){"use strict";var a=n("XKFU"),r=n("Lgjv"),s=n("ol8x"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);a(a.P+a.F*o,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},Lgjv:function(t,e,n){var a=n("ne8i"),r=n("l0Rn"),s=n("vhPU");t.exports=function(t,e,n,o){var i=String(s(t)),l=i.length,u=void 0===n?" ":String(n),c=a(e);if(c<=l||""==u)return i;var m=c-l,d=r.call(u,Math.ceil(m/u.length));return d.length>m&&(d=d.slice(0,m)),o?d+i:i+d}},ZTnj:function(t,e,n){t.exports={button:"buttons-module--button--22YE3",timer:"buttons-module--timer--3CQwQ",switch:"buttons-module--switch--1AGYO"}},aJiU:function(t,e,n){t.exports={status:"status-module--status--33GdV",date:"status-module--date--2GlmR",events:"status-module--events--1WGr9"}},iy7Y:function(t,e,n){t.exports={statsView:"stats-module--statsView--3Ct4N",statsContainer:"stats-module--statsContainer--3sYxV",statsColumn:"stats-module--statsColumn--1DJjV"}},l0Rn:function(t,e,n){"use strict";var a=n("RYi7"),r=n("vhPU");t.exports=function(t){var e=String(r(this)),n="",s=a(t);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},"ox/P":function(t,e,n){}}]);
//# sourceMappingURL=component---src-pages-doctimer-tsx-7e2eb79022d28cddb764.js.map