(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"9XZr":function(t,e,n){"use strict";var a=n("XKFU"),r=n("Lgjv"),s=n("ol8x"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);a(a.P+a.F*o,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},Lgjv:function(t,e,n){var a=n("ne8i"),r=n("l0Rn"),s=n("vhPU");t.exports=function(t,e,n,o){var i=String(s(t)),l=i.length,u=void 0===n?" ":String(n),c=a(e);if(c<=l||""==u)return i;var d=c-l,m=r.call(u,Math.ceil(d/u.length));return m.length>d&&(m=m.slice(0,d)),o?m+i:i+m}},QeBL:function(t,e,n){"use strict";n.r(e);var a=n("q1tI"),r=n.n(a),s=(n("ox/P"),n("f3/d"),n("9XZr"),["Phone Appointment","Face-to-face Appointment","Notes","Home Visit","Meeting","Checks"]);function o(t,e){return String(t).padStart(e,"0")}function i(t){var e=t/1e3;return o(Math.floor(e/60),2)+":"+o(Math.round(e%60),2)}var l=function(){function t(t){this.category=t,this.comment=null,this.startMillis=Date.now(),this.endDuration=null}var e=t.prototype;return e.setComment=function(t){this.comment=t},e.stop=function(){this.endDuration=Date.now()-this.startMillis,console.log("stopped segment "+this.endDuration)},e.startTime=function(){return new Date(this.startMillis)},e.endTime=function(){return this.endDuration?new Date(this.startMillis+this.endDuration):new Date},e.currentDuration=function(){return null!==this.endDuration?this.endDuration:Date.now()-this.startMillis},t}(),u=function(){function t(){this.date=new Date,this.segments=[]}return t.prototype.addSegment=function(t){this.segments.push(t),console.log(this.segments.length+" segments")},t}(),c=n("ZTnj"),d=n.n(c),m=function(t){var e=t.running,n=t.segment,a=r.a.createElement("div",null,"Start Clinic"),s="";if(e){if(null!==n){var o=i(n.currentDuration());s=n.category+": "+o}else s="No appointment in progress";a=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,s),r.a.createElement("div",{className:d.a.subhead},"Press to stop clinic"))}return r.a.createElement("button",{onClick:function(){t.callback&&t.callback(t.name)},type:"button",className:d.a.button+" "+d.a.timer},a)},g=function(t){var e=t.selected&&!t.disabled?"red":"gray",n=void 0!==t.altname&&t.selected?t.altname:t.name;return r.a.createElement("button",{className:d.a.button,disabled:t.disabled,style:{backgroundColor:e},type:"button",onClick:function(){t.callback&&t.callback(t.name)}},(t.selected?"Stop":"Start")+" "+n)},f=function(t){var e="";return e=t.toControls?"Back to controls":"See stats",r.a.createElement("button",{className:d.a.button+" "+d.a.switch,onClick:function(){t.toControls?t.setControlsView(!0):t.setControlsView(!1)}},e)},h=function(t){return r.a.createElement("div",{className:d.a.buttons},r.a.createElement(m,{callback:t.startPressed,selected:t.started,running:t.started,segment:t.currentSegment}),t.buttonsSelected.map((function(e){return r.a.createElement(g,{key:e[0],name:e[0],selected:e[1],callback:t.itemPressed,disabled:!t.started})})),r.a.createElement(f,{toControls:!1,setControlsView:t.setControlsView}))},v=n("aJiU"),b=n.n(v),p=function(t){return r.a.createElement("div",{id:"status",className:b.a.status},r.a.createElement("div",{className:b.a.date},t.time.toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),r.a.createElement("div",{className:b.a.events},t.events," events so far."))},w=function(t){var e=t.currentSegment,n=t.setCurrentSegment,s=t.started,o=t.setStarted,i=Object(a.useState)(new Date),u=i[0],c=i[1];Object(a.useEffect)((function(){var t=window.setInterval((function(){c(new Date)}),1e3);return function(){clearInterval(t)}}));var d=t.categories.map((function(t){return[t,e&&t===e.category]}));return r.a.createElement("div",{id:"buttonScreen"},r.a.createElement(p,{time:u,events:t.day.segments.length}),r.a.createElement(h,{buttonsSelected:d,itemPressed:function(a){if(null===e){var r=new l(a);n(r)}else if(e.category===a)e.stop(),t.day.addSegment(e),n(null);else{e.stop(),t.day.addSegment(e);var s=new l(a);n(s)}},started:s,startPressed:function(){o(!s),s&&e&&(e.stop(),t.day.addSegment(e))},currentSegment:e,setControlsView:t.setControlsView}))},y=(n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("iy7Y")),S=n.n(y),E=function(t){var e=t.category,n=t.segments,a=void 0,s=void 0,o=0;return n.forEach((function(t){void 0!==a?t.endDuration>a&&(a=t.endDuration):a=t.endDuration,void 0!==s?t.endDuration<s&&(s=t.endDuration):s=t.endDuration,o+=t.endDuration})),r.a.createElement("div",{className:S.a.category},r.a.createElement("h3",null,e,": ",n.length," segment",1===n.length?"":"s","."),r.a.createElement("p",null,"Shortest ",i(s)),r.a.createElement("p",null,"Longest ",i(a)),r.a.createElement("p",null,"Average length ",i(o/n.length)))},C=function(t){var e={};t.day.segments.forEach((function(t){e[t.category]?e[t.category].push(t):e[t.category]=[t]}));var n=Object.keys(e).map((function(t){return r.a.createElement(E,{key:t,category:t,segments:e[t]})})),a=1===t.day.segments.length;return r.a.createElement("div",{className:S.a.statsView},r.a.createElement("h3",null,"Stats for ",t.day.date.toLocaleDateString(),":"),r.a.createElement("p",null,"There ",a?"has":"have"," been ",t.day.segments.length," ","completed segment",a?"":"s","."),t.currentSegment&&r.a.createElement("p",null,r.a.createElement("strong",null,t.currentSegment.category)," currently in progress."),n,r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement(f,{toControls:!0,setControlsView:t.setControlsView})))};e.default=function(){var t=Object(a.useState)(new u),e=t[0],n=(t[1],Object(a.useState)(!0)),o=n[0],i=n[1],l=Object(a.useState)(null),c=l[0],d=l[1],m=Object(a.useState)(null),g=m[0],f=m[1];return o?r.a.createElement(w,{setControlsView:i,day:e,categories:s,currentSegment:c,setCurrentSegment:d,started:g,setStarted:f}):r.a.createElement(C,{currentSegment:c,day:e,setControlsView:i})}},ZTnj:function(t,e,n){t.exports={buttons:"buttons-module--buttons--3J-va",button:"buttons-module--button--22YE3",timer:"buttons-module--timer--3CQwQ",subhead:"buttons-module--subhead--15lBa",switch:"buttons-module--switch--1AGYO"}},aJiU:function(t,e,n){t.exports={status:"status-module--status--33GdV",date:"status-module--date--2GlmR",events:"status-module--events--1WGr9"}},iy7Y:function(t,e,n){t.exports={statsView:"stats-module--statsView--3Ct4N",statsContainer:"stats-module--statsContainer--3sYxV",statsColumn:"stats-module--statsColumn--1DJjV",category:"stats-module--category--2Oin2"}},l0Rn:function(t,e,n){"use strict";var a=n("RYi7"),r=n("vhPU");t.exports=function(t){var e=String(r(this)),n="",s=a(t);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},"ox/P":function(t,e,n){}}]);
//# sourceMappingURL=component---src-pages-index-tsx-fc79a41958a99e77dd9e.js.map